<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"> 
    <script src="js/jquery.min.js"></script>
    <title>Bonjour | Personal Identity Branding</title>
    <style>
        body{
            margin:0;
            padding:0;
            box-sizing: border-box;
        }
    </style>
</head>
<body style="height:100vh" class="light__mode" data-barba="wrapper">

<div class="slideshow-container" id="containerz" data-barba="container" data-barba-namespace="home">
    <div class="navigation">
        <input type="checkbox" class="navigation__checkbox" id="navi-toggle">

        <label for="navi-toggle" class="navigation__button">
            <span class="navigation__icon">&nbsp;</span>
        </label>

        <div class="navigation__background">&nbsp;</div>

        <nav class="navigation__nav">
            <ul class="navigation__list">
                <li class="navigation__item"><a href="#" class="navigation__link">About</a></li>
                <li class="navigation__item"><a href="project.html" class="navigation__link">Projects</a></li>
                <li class="navigation__item"><a href="#" class="navigation__link">Store</a></li>
                <li class="navigation__item"><a href="#" class="navigation__link">Cart(0)</a></li>
                </ul>
                <ul class="navigation__socialist">
                    <li class="navigation__item2"><a href="#" class="navigation__link2"><i class="fab fa-telegram-plane navigation__fa"></i> @shibedibe</a></li>
                    <li class="navigation__item2"><a href="https://www.google.com/maps/place/Tampines+Central+8,+Singapore/@1.3566321,103.9383712,17z/data=!3m1!4b1!4m5!3m4!1s0x31da3d0c55309c0d:0x9f0fc64df5bc63e3!8m2!3d1.3566321!4d103.9405599" class="navigation__link2" target="_blank" rel="noopener noreferrer"><i class="fas fa-map-marker-alt navigation__fa"></i> Tampines Centrale 8 <span>Singapore 520519</span></a></li>
                    <li class="navigation__item2"><a href="mailto: benjaminlauwk@gmail.com" class="navigation__link2" target="_blank" rel="noopener noreferrer"><i class="far fa-envelope navigation__fa"></i> benjaminlauwk@gmail.com</a></li>
                    <li class="navigation__item2"><a href="https://www.instagram.com/walaulau/" class="navigation__link2" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram navigation__fa"></i> @walaulau</a></li>
                    </ul>
        </nav>
    </div>
    <div class="slideshow-wheel" id="wheel">
        <div class="mySlides fade" id="test-slides-1">
            <a href="proj.html">
                <img class="mySlides--img mySlides--img--1" src="img/travel-1.jpeg">
            </a>
        </div>
    
        <div class="mySlides fade" id="test-slides-2">
            <a href="proj2.html">
                <img class="mySlides--img mySlides--img--2" src="img/travel-2.jpeg">
            </a>
        </div>
    
        <div class="mySlides fade" id="test-slides-3">
            <a href="proj3.html">
                <img class="mySlides--img mySlides--img--3" src="img/travel-3.jpeg">
            </a>
        </div>
        <div class="mySlides fade" id="test-slides-4">
            <a href="proj4.html">
                <img class="mySlides--img mySlides--img--4" src="img/travel-4.jpeg">
            </a>        </div>
        <div class="mySlides fade" id="test-slides-5">
            <a href="proj5.html">
                <img class="mySlides--img mySlides--img--5" src="img/travel-5.jpeg">
            </a>        </div>
        <div class="mySlides fade" id="test-slides-6">
            <a href="proj6.html">
                <img class="mySlides--img mySlides--img--6 mySlides--img--landscape" src="img/nat-4.jpg" id="lastSlide">
            </a>
        </div>
    </div>
    <h1 class="slideshow-title project-title" id="slideshow-title">Bonjour</h1>
    <div class="slideshow-adjust">
        <!--<i class="far fa-hand-point-up"></i>-->
        <p class="swipe-text"><span><i class="fas fa-adjust "></i> <br>Background Color</span> <div class="red color__select"></div></p>
    </div>
    <div class="colors" id="colors">
        <div class="colors__select colors__select--red" id="red__choice"></div>
        <div class="colors__select colors__select--blue" id="blue__choice"></div>
        <div class="colors__select colors__select--yellow" id="yellow__choice"></div>
        <div class="colors__select colors__select--dark" id="dark__choice"></div>
        <div class="colors__select colors__select--light" id="light__choice"></div>
    </div>
    <div class="slideshow-swipe">
        <p class="swipe-text">Swipe &#8680;</p>
    </div>
</div>
<br>
<script src="https://unpkg.com/@barba/core"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.0/ScrollTrigger.min.js"></script>
<script src="js/index.js"></script>
<script>
    

    //imgSlides will refer to the DOM element .mySlides--img
    //it gets declared later on in the click initialization function

    
    let imgSlides;
    let numSlides = document.getElementsByClassName('mySlides--img').length;

    //let tlSlideIn = gsap.to('#')

    let containerz = document.getElementById("wheel");
    let containerWidth;
    let segment; //one slide in the slide carousel
    //////////////////////////////////
    /////Change words on title
    //////////////
    let body = document.querySelector('body');

    //slides
    let slidez = document.getElementsByClassName('mySlides');
    let imgGap = 0;
    
    //set up functions
    window.addEventListener('DOMContentLoaded', function(){
        swipeTL.to('.slideshow-swipe', 0.1, {opacity: 1})
        .to('.slideshow-swipe', 2, {x: "200%", color: '#fff', repeat: 2, yoyo: true})
        .to('.slideshow-swipe', 1, {opacity: 0, autoAlpha:0});
    })
    document.getElementsByClassName('slideshow-adjust')[0].addEventListener("click", function(){
        //let colorsDisplay = document.getElementById('colors').style.display;
        if(document.getElementById('colors').style.display == 'none' || document.getElementById('colors').style.display == ''){
            document.getElementById('colors').style.display = 'block';
        }else{
            document.getElementById('colors').style.display = 'none';
        }
    })
    $("#wheel").click(function(){
        if(swipeTL.isActive()){
        swipeTL.seek(swipeTL.endTime());
    }
    })
    let currentBG = 'light__mode';
    function setCurrent(newMode){
        if(newMode !== currentBG){
            document.body.classList.toggle(currentBG);
            document.body.classList.toggle(newMode);
            currentBG = newMode;
        }
        if(newMode == 'light__mode' || newMode == 'yellow__mode'){
            $('.slide').each(function(){
                this.style.color = '#000';
            })
            $('.slide__toggle:link').each(function(){
                this.style.color = '#000';
            })
            $('.slide__toggle:visited').each(function(){
                this.style.color = '#000';
            })
            document.getElementById('slideshow-title').style.color = '#000';
        }else {
            $('.slide').each(function(){
                this.style.color = '#fff';
            })
            $('.slide__toggle:link').each(function(){
                this.style.color = '#fff';
            })
            $('.slide__toggle:visited').each(function(){
                this.style.color = '#fff';
            })
            document.getElementById('slideshow-title').style.color = '#fff';
        }
    }
    document.getElementById('red__choice').addEventListener('click', function(){
        console.log('red');
        setCurrent('red__mode');
    });
    document.getElementById('yellow__choice').addEventListener('click', function(){
        setCurrent('yellow__mode');
    });
    document.getElementById('blue__choice').addEventListener('click', function(){
        setCurrent('blue__mode');
    });
    document.getElementById('dark__choice').addEventListener('click', function(){
        setCurrent('dark__mode');
    });
    document.getElementById('light__choice').addEventListener('click', function(){
        setCurrent('light__mode');
    });
    function setFinal(){
        segment = (containerWidth)/6;
        console.log('segment is', segment);
        //debug
        console.log('scroll width:' ,containerz.scrollWidth);
    }
    function setWheelClone(){
        $('#wheel').ready(function(){
        containerWidth = containerz.scrollWidth;

        let clone=$("#wheel").contents().clone();

        console.log('before width: ', containerWidth);
        clone.appendTo("#wheel");
        let extraSlide = $('#wheel').children()[6].children[0].children[0];
            extraSlide.classList.toggle('mySlides--img--1');
            extraSlide.classList.toggle('mySlides--img--7');
        ///////////////////////////////////////////
        
        $(".mySlides--img").click(function(){
            slideIndex = $('.mySlides--img').index($(this)) + 1;
        });
        /////////////////////////////////////////
        imgGap = slidez[0].getBoundingClientRect().x;
        $('#wheel').scroll(function(){
            let scrollWindowPos = $('#wheel').scrollLeft();
            if(scrollWindowPos >= (containerWidth + imgGap + 5)){
                $('#wheel').scrollLeft(1)
                ScrollTrigger.refresh();
            }
            if(scrollWindowPos <= 0){
                $('#wheel').scrollLeft(containerWidth + imgGap);
            }
        })
        
    })
    };
    let title = document.getElementById('slideshow-title');
    function scrollSpy(){
        containerz.addEventListener('scroll', function(e){
            if(containerz.scrollLeft > 0 && containerz.scrollLeft <= segment){
                title.innerText = 'Bonjour';
            }
            if(containerz.scrollLeft > segment && containerz.scrollLeft <= (segment*2)){
                title.innerText = 'Benjamin';
            }
            if(containerz.scrollLeft > (segment*2) && containerz.scrollLeft <= (segment*3)){
                title.innerText = 'Romani';
            }
            if(containerz.scrollLeft > (segment*3) && containerz.scrollLeft <= (segment*4)){
                title.innerText = "Marotta";
            }
            if(containerz.scrollLeft > (segment*4) && containerz.scrollLeft <= (segment*5)){
                title.innerText = "Eulalio";
            }
            if(containerz.scrollLeft > (segment*5)){
                title.innerText = "Angeioletto";
            }

        })
    };
    setWheelClone();
    setTimeout(setFinal, 1500);
    setTimeout(scrollSpy, 1505);
    ///////////////////////////////////
    //Check for changes in device width
    ////
    window.addEventListener('resize', setFinal);
</script>
</body>
</html> 
